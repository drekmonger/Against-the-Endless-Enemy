for(_='==\\enemies@.lengthJinQhaseZ},^:"`,special:{desc`~at%(e,t$&&onstt.campAdvance({co:.occupiedfor(n("ovesuppliesre%tackhealth.push(",ct{x:u,y:h,hf`#tilewidth`50height`50key:c.tkeys"poQter-events"`ne),curntPawnnull	viewBox`0 0 512 512"^p%h{d`M:$,n)=>e.functipawnlet this.turn!(){"use rict";var e,t=[]; n(n,a){var i,r=[];e=argumentsJ;e-- >2;)targuments[e]);;length;)if(Array.isArray(i=pop()))e=iJ;e--;)ti[e]);else 	!=i!0!\\i!1!\\ir"number"\\typeof i?i+="":i);"rQg"\\typeof n?{type:n,props:a||{^childn:r}:n(a||{^r)} a$,n=100,a=!1){i=[];it);t=0;t<14;t++)n=0;n<22;n++)e[t][n].diance=	,e[t][n].came_from=	;e[y][x].diance=0;iJ>0;){t=i.shift();if(e[y][x].diance<n){n=[];n{x:x,y:y-1}n{x:x+1,y:y}n{x:x,y:y+1}n{x:x-1,y:y});r of n)if(r.y>=0r.x>=0r.y<14r.x<22){n=e[r.y][r.x];	\\=n.diance!n.wall(!n||n.isPlayera)(irn.diance=1+e[y][x].diance,n.came_from=t)}}}{grid:e}} i$,n){a=[],i=t;;	!=i;)a.unshift(ii=n[i.y][i.x].came_from; aJ>1?a:	}class r{cructor(e={}){dur%i=dur%i||1e3,ease=($,n,a)=>n*e/a+tart=art,end=end,frame=	,next=	,isRunnQg=!1,events={^dictiX=arx<end.x?"up"`downdictiY=ary<end.y?"up"`down"}begQ(){ isRunnQg||next\\=end||(frame=wQdow.queAnim%iFrame(_tick.bQd(this))this}op(){ wQdow.cancelAnim%iFrame(frameisRunnQg=!1,frame=	,timeStart=	,next=	,this}$){ events[e]=events[e]||[],events[e]tthis}emit$){n=events[e];nn.forEach(e=>call(this,t))}_tick(e){isRunnQg=!0;t=next||art;timeStart||(timeStart=etimeElapsed=e-timeStart,next={x:M%h.round(ease(timeElapsed,arx,end.x-arx,dur%i)y:M%h.round(ease(timeElapsed,ary,end.y-ary,dur%i))^_shouldTick(t)?(emit("ticknextframe=wQdow.queAnim%iFrame(_tick.bQd(this))):(emit("tickendemit("de	))}_shouldTick(e){{up:nexx<end.xx<=nexx,down:nexx>end.xx>=nexx}[dictiX]||{up:nexy<end.yy<=nexy,down:nexy>end.yy>=nexy}[dictiY]}}s=e=>50*e-50,l=$=!0)=>(>0||0\\t)pZ<=3!pickGuild,o=()=>M%h.random()>.8,c=$)=>M%h.hypot(tX-tX,tY-tYp=$,n)=>{a=M%h.abs(tX-tXi=tX<tX?1:-1,r=M%h.abs(tY-tYs=tY<tY?1:-1,l=(a>r?a:-r)/2,o=!1,p={tX:tX,tY:tY};;;){if(n[p.tY][p.tX].wall){o=!0;bak}if(p.tX\\=tXp.tY\\=tY)bak;e=l;e>-a(l-=r,p.tX+=ie<r(l+=a,p.tY+=s)} o?100:c$)}; u(e){t=length-1;t>0;t--){n=M%h.floor(M%h.random()*(t+1)a=e[t];e[t]=e[n],e[n]=a}}var h,d,m,f=({grid:e,hr:t,pZ:a,unhr:i,select:r,Qit:l,s:o,lQe:c,cPawn:p,hPawn:u,skull:h,missle:d})=>{m=[],f=[],g=[],y=[],w=[];l=0;l<14;l++)o=0;o<22;o++){c=e[l][o],u=s(oh=s(l);m,fill:c.grass,roke`#5A5353mouser:e=>t({x:o,y:l}mouseleave:e=>i({x:o,y:l}click:e=>r({x:o,y:l})})c.wall>0f+1e3,fill`#FFDEAD"})1\\a	!=c.dianceg,fill:c!=p?"rgba(0,100,0,0.2)"`rgba(0,200,0,0.8)"}))}e of o){t=20;isPlayerspecial.range!isExhau(t=50*special.rangewuse{x:x,y:y,width`50height`50hf:ic,fill:color,roke`black"roke-width"`3key:key,filter`url(#pf)"})e\\=uwcircle{cx:x+25,cy:y+25,r:t,fill`white"fill-opacity"`0.2"}))}if(1\\ac){e=c[0];t of c)ylQe{x1:s(x)+25,y1:s(y)+25,x2:s(x)+25,y2:s(y)+25,"roke-width"`3roke`white"})e=t;yuse{x:s(x)+7,y:s(y)+5,width`35height`35hf:p.ic,fill`white"}))} svg{yle:{positi`absoluteleft:140,top:95,width:1e3,height:600,border`10px solid #A07178boxShadow`0 4px 8px 0 rgba(0, 0, 0, 0.2 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}^defs	,filter{id`pf"^feDropShadow{"flood-opacity"`.3dx`3dy`3dDevi%i`0"})filter{id`wf"^feMorphology{oper%or`eroderadius`8"}feDropShadow{"flood-opacity"`.7dx`3dy`3dDevi%i`2"}feDropShadow{"flood-opacity"`.1dx`-3dy`-3dDevi%i`5"})filter{id`gf"^feMorphology{sult`rQ`SourceGraphicoper%or`eroderadius`5"}feBlend{sult`r2Q`SourceGraphicQ2`rmode`scen"})symbol{id`p263 18h-3c-33 0-60 34-60 76 0 21 7 40 18 54-68 11-83 105-67 192h24l-1-105h19l1 127 9 133h47V319h19v176h44l12-154 1-106h19l-1 105h25c18-88-5-179-67-191 12-14 19-33 19-55 0-39-23-72-53-76h-2"})symbol{id`m10 0h512v512H0zfill`ne"}p%h{d`M323 144l-14 1c19 33 6 75-19 108-10-94-17-19-36-20-19 0-22-77-34 9-20-37-27-78-14-95C89 142 19 237 5 293c27-27 116-19 128 15 17-23 52-30 83-29-1 21 18 22 38 22s39-1 38-23c33-4 71 3 89 27 13-33 101-42 129-14-41-82-93-147-187-147z"})symbol{id`m2260 19c-74 0-134 52-134 112 17 56 39 80 40 139 60-51 23 54 11 74-146 119-128-51-87-13-75-132-161 199 112 74 6 139 177 72 100 14 9 42-48 47-49-13 0-23 11-43 27-57 149 290 301-142 131-4 67 3-10 114-65-1-12-38-52-109 8-74-19-56 38-90 39-139 0-60-58-112-133-112z"})symbol{id`m3148 252l54-34c47 77 4 93-52 153l13 86-43 52h53l22-50c-15-135 176-110 184 1l-11 49h69l-34-49-6-74c-84-70-91-81-59-178l68 23c-86 88-33 76 41-6-63-36-115-57-131-118 61-14 68-74 17-106 10 29 25 56-37 71-17-15-36-13-51 0-65-15-49-42-39-71-53 33-44 94 20 107 3 57-33 72-81 111-186-109-95-22 3 33z"})symbol{id`m461 7c-6 73 67 87 117 115-183 3-208 247-51 262 52-42-9-109-57-61 5-163 111-30 119 57-61 58-23 99-98 134h107c-63-129 176-114 95 0h106c-81-20-47-104-98-134-8-137 197-195 113-61-48-48-105 23-52 65 283-99 40-269-42-260C372 94 465 56 442 7 376 117 75 60 61 7z"})symbol{id`sk5 197c0 50 23 97 63 133 19 34 9 92 11 134 9 5 29 15 59 25v-81h37v90c20 4 43 8 68 8v-83h37v83c26-1 50-5 70-10v-88h37v78c23-9 39-17 47-22 12-34-17-109 9-133 41-36 65-83 65-134C472-84 13-38 5 197zm209 10a78 78 0 0 1-156 0c21-69 111-23 156 0zm241 0a78 78 0 1 1-156 0c43-18 152-66 156 0z"}))g	,mg{filter`url(#wf)"^fg{filter`url(#gf)"^gg{opacity`.8"^yw,huse{use:!0,x:s(h.tXy:s(h.tYwidth`50height`50hf`#skfill`Ivoryfilter`url(#pf)"}d4\\act{x:d.x+25,y:d.y+25,rx:20*d.r,ry:20*d.r,height:2+d.a,width:2+d.a,fill:d.c,roke`black"}))^g=({:e,guild:t,i:a,curnt:i,highlight:r,hr:s,unhr:l})=>{c o={top:130*a+95,background:r?color`ne"^c={background:i?"#A07178"`necolor:i?"white"`blacktextShadow:i?"1px 1px #050505"`ne"};p=f%igue; div{yle:o,class`ccmouser:t=>s(emouseleave:l^div{yle:c,class`ct"^i?">"+guild+"<":guildn(y,{s`Armora:aegis,max:aegis}n(y,{s`Healtha:,max:}100!=pn(y,{s`F%iguea:p,fa:!0}100\\pn(y,{s`FATIGUED!a`fa:!0}n(y,{s`Attacka:}n(y,{s`Ma:m,b:!1}))};c y=({s:e,a:t,max:a=!1,b:i=!0,fa:r=!1})=>{ div{class`cryle:{borderBottom:i?"1px solid #A07178"`ne"^a:t,c%e:e=>ylbackground="Qheritupd%e:(e,n)=>{if(n.a!=t){r""!=t""!=n.a?ylbackground=n.a<t?"LightCoral"`Lime":ylbackground=n.a>t?"LightCoral"`Limeylcolor="White";setTimeout(()=>{ylbackground="Qheritylcolor="Qherit"^1400)}}^div{class`ca"^ediv{class`ca"^t,aspan{class`cam"^"|a)))};var w=({actLi:e})=>{t=[];a of e){c e={top:s(a.tYleft:s(a.tX)};tbutt{yle:e,click:e=>a.a(a.tclass`act"^" a.d," "))} div{yle:{positi`absolutetop:132,left:150,margQ:0}^t)^v=({:e,FN:t,forageFN:a,p%rolFN:i,traQFN:r,guildFN:s,b%tleFN:l})=>{o=()=>3!=pZ0\\pickGuild; div{yle:{positi`absoluteleft:140,top:75^class`d"^h2	," Supplies: ," "div	,"MornQg: pZReport[0]," "div	,"No: pZReport[1]," "div	,"Afterno: pZReport[2]," "br	o()n(x,{label`RESTdesc`gaQ twenty amQa, pair five armor, heal e :,fn:t}o()n(x,{label`FORAGEdesc`fQd :,fn:a,co:!1}o()n(x,{label`TRAINdesc`cruit a new defender (max five defenders) ("+(4-traQ)+" mo needed):,fn:r}o()0\\p%rolKillsn(x,{label`PATROLdesc`slay sleepQg mers:,fn:i}pickGuilddiv{class`d"^h2	," A new defender joQs. Select a guild`pickGuild.map(e=>butt{class`click:t=>s(ID)^h1{class`h"^desc)))3\\pZn(x,{label`TO BATTLEdesc`the mers awakenfn:l,:,co:!1}))};x=({label:e,desc:t,fn:a,:i,co:r=!0})=>{s=!1; r0\\i(s=!0butt{class`click:e=>a(disabled:s^rspan	,"cos e supply"h1{class`h"^et)};k=({msgt:e,msg:t,msgb:a,fn:i})=>{ butt{class`click:e=>i(yle:{positi`absoluteleft:290,top:55}^e,h1	,ta)};!$){var a,i,r,s=(t=t||documenbody).childn[0],l= e(t,a){ tn(tagNamtoLowerCase({^a.call(childNodes,(t){ 3\\=nodeType?nodeValue:e(t,a)}))}(s,[].mapo=[]; c(u( e(t,n,a){Qito(){Qit(n,a)}h(n,%e e(t,n,a){Objeckeys(a||{}).map((r){""\\typeof a[r]?n[r]=(e){""\\typeof(e=a[r](t,n,e))?e(i):i(e)}:e(t[r]||(t[r]={}n[r]={^a[r])}); i(e){""\\typeof e?i(e(t)):ec(h(t,e)t}}(n,a,actis);var i Q modules)e(modules[i],n[i]={^a[i]={})}(e,i={^r={}))r; c(){view!aqueAnim%iFrame(p,a=!a)} p(){u(s= e(t,n,a,i,r,s){if(	\\a)n=QsertBefo(m(i,rn);else if(	!=i.typei.type\\=a.type){!$,n){var a Q d(t,n)){var i=n[a],r="value"\\=a||"checked"\\=a?e[a]:t[a];i!\\ri!\\rf(e,a,i,r)}nn.upd%eo(){n.upd%e$)})}(n,a.props,i.propsr=r||"svg"\\=i.type;var l=i.childnJ,c=a.childnJ,p={^u=[],h={^w=0;w<c;w++){var v=u[w]=n.childNodes[w],x=a.childn[w],k=y(x);	!=k(p[k]=[v,x])}var w=0,P=0;P<l;){var v=u[w],x=a.childn[w],b=i.childn[P],k=y(x);if(h[k])w++;else{var A=y(bM=p[A]||[];	\\A?(	\\k(e(n,v,x,b,rP++w++):(k\\=A?(e(n,M[0],M[1],b,rw++):M[0]?(n.QsertBefo(M[0],ve(n,M[0],M[1],b,r)):e(n,v,	,b,rP++,h[A]=b)}};w<c;){var x=a.childn[w],k=y(x);	\\kg(n,u[w],x.propsw++}var w Q p){var M=p[w],F=M[1];h[F.props.key]||g(n,M[0],F.props)}}else ni!\\n.nodeValue("rQg"\\typeof i"rQg"\\typeof a?n.nodeValue=i:(n=QsertBefo(m(i,rs=ng(t,s,a.props))); n}(t,s,l,l=view(i,ra=!a))} u(e){;e=o.pop();)e()} h$){var n Q t)e[n]=t[n]; e} d$){ h(h({^et)} m$){if("rQg"\\typeof e)var n=documenc%eTextNode(e);else{n=(t=t||"svg"\\=type)?documenc%eElementNS("http://www.w3.org/2000/svgtype):documenc%eElement(typepropsprops.c%eo(){props.c%e(n)});var a=0;a<childnJ;a++)n.appendChild(m(childn[a],t));var a Q props)f(n,a,props[a])} n} f$,n,a){if("key"\\=t);else if("yle"\\=t)var t Q d(a,n=n||{}))yle[t]=n[t]||"";else{try{e[t]=n}c%ch(e){}""!=typeof n(n?setAttribute(t,n):mAttribute(t))}} g$,n){nn.m""\\typeof(n=n.m(t))?n(a):a(); a(){mChild(t)}} y(e){if(eprops) props.key}}({%e:{gameSt%us:0,day:1,Qit%ive:[],:	,PZ:0,actLi:[],skull:	,missle:	,:{:4,traQ:0,p%rolKills:0,pickGuild:!1,pZ:0,pZReport:[""""]^maps:[[0xfffffe3bffd,9071212105777,0xc4e00637c81,0xdce706313e1,0xc407264009d,0xb8202641c01,8863176720383],[0xffffffffc01,0xc00117207c5,0xef83b600081,8843931165705,0xf08227e3c89,0xfc0227f80fd,0xfe7007fffff],[0xffffffff83d,0xf1e86606301,8803884060609,9326594942993,8933756383349,9674353522689,0x9e01e7fffff],[0xffffff80821,0xe324a78c909,0xfb24860c3a9,9006049459753,0x9f00a67ce89,0x9f0a867fa29,8798282448895]],grid:{^playerS:[{x:1,y:5^{x:2,y:6^{x:1,y:7^{x:3,y:5^{x:3,y:7}],s:[],@:[],art:{^magicLQe:	,merPoQts:3,tHd:	,tTimer:	,pHd:	,guilds:[{desc`Warriorcolor`#D3D3D3:5,m:5,:7,aegis:10~co:0,range:0,:2}^{desc`Magecolor`#00BFFF:1,m:5,:3,aegis:3~zapco:15,range:6,:6}^{desc`Archercolor`#8FBC8F:4,m:7,:5,aegis:4~arrowco:10,range:5,:4}^{desc`Roguecolor`Khaki:5,m:9,:5,aegis:3~knifeco:5,range:3,:3}^{desc`Beserkcolor`#D2691E:6,m:6,:18,aegis:1~co:3,range:0,:2}^{desc`Witchcolor`#FFB6C1:2,m:5,:3,aegis:2~doomco:25,range:3,:20}^{desc`Golemcolor`#708090:5,m:3,:1,aegis:15~co:0,range:0,:0}^{desc`Amazcolor`#FF69B4:5,m:6,:10,aegis:3~spearco:5,range:2,:5}}],mers:[{co:1,:3,range:1,m:7,:3,ic`#m1"^{co:2,:1,range:6,m:4,:6,ic`#m2"^{co:3,:4,range:1,m:4,:8,ic`#m3"^{co:5,:5,range:1,m:3,:15,ic`#m4"}]^actis:{gameInit{gameInitialSt%e(C%e(0C%e(1C%e(2mapInit(csollog(e)^gameInitialSt%e:e=>{t=; =4,{:t,day:0,s:[],@:[]}^gameOver:$)=>({gameSt%us:3}BegQ:$)=>{SEnemies(InitialSt%e(NextPawn()^SEnemies:$)=>{n=grid,a=mers,i=merPoQts,r=[];e=1;e<12;e++)n[e][21]||re);if(rJ>0){u(r);n=M%h.floor(4*M%h.random());s=0;s<=n;s++)if(i>0){n=M%h.floor(4*M%h.random());if((a[n].co>i||day<33\\n)(n=0i-=a[n].co,merC%e({gID:n,tX:21,tY:r.pop()}0\\rJ||0\\i)bak}}{merPoQts:i,@:[...@]}^InitialSt%e:e=>({PZ:0,:	,Qiti%ive:[...@,...s]}NextPawn:$)=>{if(0\\Qiti%ivlength)BegQ();else{n=Qiti%ivshift();n.isPlayer?PZM(n):Enemy(n)}^PZM{i=[...grid]; a(i,{x:n.tX,y:n.tY^n.m,!0{PZ:1,:n,grid:i}^PZActi:$)=>{n=[],a=,i=@;r of i){i=p(a,r,grid);1\\i?n{a:Melee,d`t:r}):i<=a.special.range!a.isExhaun{a:Special,d:a.special.desc,t:r})} 0\\nJ?(DoNothQg(	):(n{a:DoNothQg,d`t:a}{PZ:3,actLi:n})^Enemy{EnemyInit(n);r=n.range,s=s,l=grid,o=[];if(1\\n.range21!=n.tX){e of s)c(e,n)<=1oe);if(oJ>0) EnemyActi(n	}o=[];e of s){a(l,{x:tX,y:tY});e of l)t of e)diancediance\\rot)}if(0\\oJ) EnemyActi(n	;o=o.map(e=>({x:id.x,y:id.y}));a(l,{x:n.tX,y:n.tY});e of o)d=l[y][x].diance?l[y][x].diance:100;if(o.sort($)=>d-d100\\o[0].d)EnemyActi(n);else{e=i((n.tX,n.tYo[0],l).slice(0,n.m+1).slice(-1)[0];M(e)}^EnemyInit({PZ:5,:n}EnemyActi{a=s,i=[];e of a)c(e,n)<=n.rangeie);if(iJ>0){iJ>1u(i);e=0; n.range>1(e=1DoAttack({t:i[0],a:n.,r:e,c`Red"}	}De()^De:$)=>0\\@J0\\merPoQts?{gameSt%us:3,PZ:10}:0\\s?{gameSt%us:4,PZ:10}:void NextPawn(mapInit:$)=>{mapInitialSt%e(BegQ()^mapInitialSt%e:e=>{t=[...maps];u(t);n=t[0],a="";e of n)a+=toStrQg(2);n=[];e=0;e<14;e++){t=[];n=0;n<22;n++){i=22*e+n;t+a.slice(i,i+1))}nt)}i=[],r=[];e=0;e<14;e++){r=[];t=0;t<22;t++){a=M%h.round(13*M%h.random())-6*n[e][t],i={wall:n[e][t],grass:(h=177+a,d=182+a,m=149+a,["rgb(h,d,m,")"].joi")tkeys:t+22*e,occupied:!1,id:{x:t,y:e}};ri)}ir)}l=[],o=[...playerS];u(o);c=0;t of s){e=o[c];tX=x,tY=y,x=s(tXy=s(tYi[y][x]=t,ltc++}p=5+day-.p%rolKills;{day:day+1,gameSt%us:1,grid:i,s:l,@:[],merPoQts:p}^mapTileHr{a=grid[n.y][n.x],r=; tTimera.diance!aclearTimeout(tTimeraa.isPlayermapPawnHr(a1\\=PZa.diance!a?{magicLQe:i((r.tX,r.tYn,gridtHd:n,tTimer:	}:	^mapTileUnhr{if(pHdmapPawnUnhr(magicLQe!tTimer){{tTimer:setTimeout(()=>mapRemLQe(20)}}^mapRemLQe:()=>({tTimer:	,magicLQe:	}mapTileClick{a=grid[n.y][n.x];1\\PZ!aa.dianceM(n1\\PZa\\PZActi()^mapPawnHr({pHd:n}mapPawnUnhr:()=>({pHd:	}mapSetSkull(nsetTimeout(()=>mapSetSkull(	1200{skull:n}C%e{a=guilds[n],i={guild:a.desc,gID:n,aegis:a.aegis,f%igue:0,:a.,m:a.m,:a.,special:a.special,isExhau:!1,tX:0,tY:0,x:0,y:0,color:a.color,key:M%h.random(ic`#pisPlayer:!0};{s:[...s,i]}^M{a=;  e({art:t,arr:n,tickFN:a,endFN:i,dur%i:s,fir:l=!0}){o=n[0];new r({art:t,end:o,dur%i:s}).oticke=>a(e)).ode()=>{1\\nJ?i():e({art:o,arr:n.slice(1tickFN:a,endFN:i,dur%i:s,fir:!1})}).begQ()}({art:{x:a.x,y:a.y^arr:i((a.tX,a.tYn,grid).map(e=>({x:s(xy:s(y)})tickFN:MUpd%e,endFN:MDe,dur%i:50}grid[a.tY][a.tX]=	,a.tX=n.x,a.tY=n.y,grid[a.tY][a.tX]=a,a.isPlayerF%igue({:a,m:2}{PZ:2,:a,magicLQe:	}^MUpd%e{a=; a.x=n.x,a.y=n.y,{:a}^MDe:$)=>{.isPlayer?(tHd(mapPawnUnhr(mapTileHr(tHd)PZActi()):EnemyActi()^DoNothQg:$)=>{De()^Melee{a=;F%igue({:a,m:5}DoAttack({t:n,a:a.,r:0,c:a.color})^Special{a=,i=a.special;a.isPlayerF%igue({:a,m:i.co}DoAttack({t:n,a:i.,r:1,c:a.color})^DoAttack:$,{t:n,a,r:i,c:s})=>{l=,o={x:l.x,y:l.y,t:n,a,r:i,c:s};missle=o;new r({art:{x:l.x,y:l.y^end:{x:n.x,y:n.y^dur%i:170+20*c({tX:l.tX,tY:l.tY^{tX:n.tX,tY:n.tY})}).oticke=>Upd%eMissle(e)).odee=>FQishAttack(e)).begQ();{missle:o,actLi:[],PZ:4}^Upd%eMissle{a=missle; a.x=n.x,a.y=n.y,{missle:a}^FQishAttack{Hurt({:misslt,m:missla}De()^F%igue(n..f%igue+=n.m,n..f%igue<0(n..f%igue=0n..f%igue>=100?(n..f%igue=100,n..isExhau=!0):n..isExhau=!1,{s:[...s]}Hurt{a=n.; a.isPlayer?(a.isExhau?n.m*=2:F%igue(na.aegis-=n.m,a.aegis>0?{s:[...s]}:(a.+=a.aegis,a.aegis=0,a.<1De%h(a{s:[...s],missle:	})):(merHurt(n	)^De%h{n.=0,mapSetSkull({tX:n.tX,tY:n.tY}grid[n.tY][n.tX]=	;a=Qiti%ivQdexOf(n);a>-1Qiti%ivsplice(a,1n.isPlayer?(a=s.QdexOf(ns.splice(a,1)):(a=@.QdexOf(n@.splice(a,1))^merC%e:$,{gID:n,tX:a,tY:i})=>{r=mers[n],l={gID:n,:r.,range:r.range,m:r.m,:r.,tX:a,tY:i,x:s(ay:s(icolor`LightCoralkey:M%h.random(ic:r.ic,isPlayer:!1,needsS:!0}; grid[i][a]=l,{@:[...@,l]}^merHurt{a=n.; a.-=n.m,a.<1De%h(a{@:[...@]}^Init:$)=>{n=; n.pZ=0,n.p%rolKills=0,n.pZReport=[""""],{gameSt%us:2,PZ:6,:	,:n,s:[...s]}^Advance{a=; a.pZReport[a.pZ]=n.port,a.-=n.co,a.pickGuild=!1,a.pZ++,{:a}^Re:$)=>{if(!l()) 	;n of s){F%igue({:n,m:-20});a=guilds[n.gID];n.aegis+=5,n.aegis>a.aegis(n.aegis=a.aegisn.+=1,n.>a.(n.=a.)} 1,port`The defenders ed."}{s:[...s]}^Forage:$)=>{if(!l(,!1)) 	;o()?0,port`Sadly, no  we found..."}):o()?-3,port`A cache of  was found."}):-2,port`A few  we found."})^TraQ:$)=>{if(!l()) 	;n=;if(n.traQ+1\\45\\sJ) 	;AddTraQQg(4\\n.traQ?TraQComplete():1,port`TraQQg progsses..."})^AddTraQQg:e=>{t=; traQ++,{:t}^TraQComplete:e=>{t=,n=guilds.map($)=>({ID:t,desc:desc})); u(npickGuild=[n[0],n[1],n[2]],traQ=0,{:t}^PickGuild{C%e(n1,port:guilds[n].desc+" has joQed the defenders."})^P%rol:$)=>{if(!l()) 	;o()?1,port`The p%rol found no sleepQg mers to murder."}):o()?(KillMs(41,port`A large den of mers we slaQ while they slumbed."})):(KillMs(M%h.floor(3*M%h.random())+11,port`A few sleepQg mers we found and slaQ."}))^KillMs{a=; a.p%rolKills=n,{:a}^ToMap:$)=>{mapInit()}^view:$)=>{a=gameSt%us; maQ	,0\\adiv	,h1	,"AgaQ the Endless Enemy"br	butt{click:gameInit,class`"^"how lg can you surviv..?h1{class`h"^"BegQ"))a>0h1	,"Day day," 2\\aspan	," --- Camp ")a>0div	,s.map((a,i)=>n(g,{:a,guild:guilds[a.gID],i,curnt:a\\,highlight:pHd\\a,hr:mapPawnHr,unhr:mapPawnUnhr}))(1\\a||a>2)n(f,{grid:grid,s:[...s,...@],pZ:PZ,lQe:magicLQe,cPawn:,hPawn:pHd,skull:skull,missle:missle,hr:mapTileHr,unhr:mapTileUnhr,select:mapTileClick}3\\PZn(w,{actLi:actLi}2\\an(v,{:,FN:Re,forageFN:Forage,p%rolFN:P%rol,traQFN:TraQ,guildFN:PickGuild,b%tleFN:ToMap}3\\an(k,{msgt`the mers have been be%en backmsg`VICTORYmsgb`proceed to ...fn:Init}4\\an(k,{msgt`you survived for "+day+" daysmsg`DEFEATmsgb`play agaQ?fn:gameInit}))}})}();';G=/[-$%~`^ZQJ@\\]/.exec(_);)with(_.split(G))_=join(shift());eval(_)
